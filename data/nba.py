from balldontlie import BalldontlieAPI

from keys import API_KEY

api = BalldontlieAPI(api_key=API_KEY)

class Team:
    def __init__(
            self,
            id: int,
            full_name: str,
            abbreviation: str,
            city: str,
            conference: str,
            division: str
            ):
        self.id = id
        self.full_name = full_name
        self.abbreviation = abbreviation
        self.city = city
        self.conference = conference
        self.division = division

NBA_teams = [
    Team(1, "Atlanta Hawks", "ATL", "Atlanta", "Eastern", "Southeast"),
    Team(2, "Boston Celtics", "BOS", "Boston", "Eastern", "Atlantic"),
    Team(3, "Brooklyn Nets", "BKN", "Brooklyn", "Eastern", "Atlantic"),
    Team(4, "Charlotte Hornets", "CHA", "Charlotte", "Eastern", "Southeast"),
    Team(5, "Chicago Bulls", "CHI", "Chicago", "Eastern", "Central"),
    Team(6, "Cleveland Cavaliers", "CLE", "Cleveland", "Eastern", "Central"),
    Team(7, "Dallas Mavericks", "DAL", "Dallas", "Western", "Southwest"),
    Team(8, "Denver Nuggets", "DEN", "Denver", "Western", "Northwest"),
    Team(9, "Detroit Pistons", "DET", "Detroit", "Eastern", "Central"),
    Team(10, "Golden State Warriors", "GSW", "San Francisco", "Western", "Pacific"),
    Team(11, "Houston Rockets", "HOU", "Houston", "Western", "Southwest"),
    Team(12, "Indiana Pacers", "IND", "Indianapolis", "Eastern", "Central"),
    Team(13, "Los Angeles Clippers", "LAC", "Los Angeles", "Western", "Pacific"),
    Team(14, "Los Angeles Lakers", "LAL", "Los Angeles", "Western", "Pacific"),
    Team(15, "Memphis Grizzlies", "MEM", "Memphis", "Western", "Southwest"),
    Team(16, "Miami Heat", "MIA", "Miami", "Eastern", "Southeast"),
    Team(17, "Milwaukee Bucks", "MIL", "Milwaukee", "Eastern", "Central"),
    Team(18, "Minnesota Timberwolves", "MIN", "Minneapolis", "Western", "Northwest"),
    Team(19, "New Orleans Pelicans", "NOP", "New Orleans", "Western", "Southwest"),
    Team(20, "New York Knicks", "NYK", "New York", "Eastern", "Atlantic"),
    Team(21, "Oklahoma City Thunder", "OKC", "Oklahoma City", "Western", "Northwest"),
    Team(22, "Orlando Magic", "ORL", "Orlando", "Eastern", "Southeast"),
    Team(23, "Philadelphia 76ers", "PHI", "Philadelphia", "Eastern", "Atlantic"),
    Team(24, "Phoenix Suns", "PHX", "Phoenix", "Western", "Pacific"),
    Team(25, "Portland Trail Blazers", "POR", "Portland", "Western", "Northwest"),
    Team(26, "Sacramento Kings", "SAC", "Sacramento", "Western", "Pacific"),
    Team(27, "San Antonio Spurs", "SAS", "San Antonio", "Western", "Southwest"),
    Team(28, "Toronto Raptors", "TOR", "Toronto", "Eastern", "Atlantic"),
    Team(29, "Utah Jazz", "UTA", "Salt Lake City", "Western", "Northwest"),
    Team(30, "Washington Wizards", "WAS", "Washington", "Eastern", "Southeast")
]

NBA_ACTIVE_PLAYERS = [
    "Precious Achiuwa",
    "Steven Adams",
    "Bam Adebayo",
    "Ochai Agbaji",
    "Santi Aldama",
    "Trey Alexander",
    "Nickeil Alexander-Walker",
    "Grayson Allen",
    "Jarrett Allen",
    "Jose Alvarado",
    "Kyle Anderson",
    "Giannis Antetokounmpo",
    "Cole Anthony",
    "OG Anunoby",
    "Taran Armstrong",
    "Deni Avdija",
    "Deandre Ayton",
    "Marvin Bagley III",
    "Patrick Baldwin, Jr.",
    "LaMelo Ball",
    "Lonzo Ball",
    "Paolo Banchero",
    "Desmond Bane",
    "Dalano Banton",
    "Dominick Barlow",
    "Harrison Barnes",
    "Scottie Barnes",
    "R.J. Barrett",
    "Charles Bassey",
    "Emoni Bates",
    "Jamison Battle",
    "Nicolas Batum",
    "Damion Baugh",
    "Bradley Beal",
    "Malik Beasley",
    "MarJon Beauchamp",
    "Reece Beekman",
    "Saddiq Bey",
    "Goga Bitadze",
    "Bismack Biyombo",
    "Anthony Black",
    "Bogdan Bogdanovic",
    "Bol Bol",
    "Adem Bona",
    "Devin Booker",
    "B.J. Boston, Jr.",
    "Chris Boucher",
    "Jamaree Bouyea",
    "Tony Bradley",
    "Malaki Branham",
    "Christian Braun",
    "Jalen Bridges",
    "Mikal Bridges",
    "Miles Bridges",
    "Malcolm Brogdon",
    "Dillon Brooks",
    "Keion Brooks, Jr.",
    "Jaylen Brown",
    "Bruce Brown, Jr.",
    "Kobe Brown",
    "Jalen Brunson",
    "Thomas Bryant",
    "Kobe Bufkin",
    "Alec Burks",
    "Jimmy Butler III",
    "Jared Butler",
    "Matas Buzelis",
    "Jamal Cain",
    "Kentavious Caldwell-Pope",
    "Toumani Camara",
    "Vlatko Cancar",
    "Clint Capela",
    "Branden Carlson",
    "Bub Carrington",
    "Devin Carter",
    "Jevon Carter",
    "Wendell Carter, Jr.",
    "Alex Caruso",
    "Stephon Castle",
    "Colin Castleton",
    "Julian Champagnie",
    "Justin Champagnie",
    "Ulrich Chomche",
    "Cameron Christie",
    "Max Christie",
    "Josh Christopher",
    "Sidy Cissoko",
    "Jaylen Clark",
    "Brandon Clarke",
    "Jordan Clarkson",
    "Nicolas Claxton",
    "Donovan Clingan",
    "Noah Clowney",
    "Amir Coffey",
    "Isaiah Collier",
    "John Collins",
    "Zach Collins",
    "Mike Conley",
    "Pat Connaughton",
    "Bilal Coulibaly",
    "Ricky Council IV",
    "Torrey Craig",
    "Isaiah Crawford",
    "Jae Crowder",
    "Cade Cunningham",
    "Seth Curry",
    "Stephen Curry",
    "Tristan Da Silva",
    "Pacome Dadiet",
    "Dyson Daniels",
    "N'Faly Dante",
    "Anthony Davis",
    "Terence Davis",
    "J.D. Davison",
    "DeMar DeRozan",
    "RayJ Dennis",
    "Donte DiVincenzo",
    "Moussa Diabate",
    "Gradey Dick",
    "Ousmane Dieng",
    "Rob Dillingham",
    "Spencer Dinwiddie",
    "Luka Doncic",
    "Luguentz Dort",
    "Ayo Dosunmu",
    "Jeff Dowtin",
    "Andre Drummond",
    "Alex Ducas",
    "David Duke",
    "Kris Dunn",
    "Ryan Dunn",
    "Kevin Durant",
    "Jalen Duren",
    "Tari Eason",
    "Zach Edey",
    "Anthony Edwards",
    "Jesse Edwards",
    "Justin Edwards",
    "Kessler Edwards",
    "Keon Ellis",
    "Joel Embiid",
    "Tyson Etienne",
    "Drew Eubanks",
    "Tosan Evbuomwan",
    "Dante Exum",
    "Kyle Filipowski",
    "Dorian Finney-Smith",
    "Adam Flagler",
    "Trentyn Flowers",
    "Simone Fontecchio",
    "De'Aaron Fox",
    "Enrique Freeman",
    "Markelle Fultz",
    "Johnny Furphy",
    "Daniel Gafford",
    "Darius Garland",
    "Luka Garza",
    "Keyonte George",
    "Kyshawn George",
    "Paul George",
    "Taj Gibson",
    "Josh Giddey",
    "Shai Gilgeous-Alexander",
    "Anthony Gill",
    "Collin Gillespie",
    "Rudy Gobert",
    "Jordan Goodwin",
    "Aaron Gordon",
    "Eric Gordon",
    "Jerami Grant",
    "A.J. Green",
    "Draymond Green",
    "Jalen Green",
    "Javonte Green",
    "Jeff Green",
    "Josh Green",
    "Quentin Grimes",
    "Mouhamed Gueye",
    "Rui Hachimura",
    "Tyrese Haliburton",
    "P.J. Hall",
    "Tim Hardaway Jr.",
    "James Harden",
    "Jaden Hardy",
    "E.J. Harkless",
    "Ron Harper",
    "Gary Harris",
    "Tobias Harris",
    "Josh Hart",
    "Isaiah Hartenstein",
    "Sam Hauser",
    "Jordan Hawkins",
    "Jaxson Hayes",
    "Scoot Henderson",
    "Taylor Hendricks",
    "Tyler Herro",
    "Buddy Hield",
    "Haywood Highsmith",
    "Aaron Holiday",
    "Jrue Holiday",
    "Ron Holland",
    "DaRon Holmes II",
    "Richaun Holmes",
    "Chet Holmgren",
    "Jalen Hood-Schifino",
    "Al Horford",
    "Talen Horton-Tucker",
    "Caleb Houstan",
    "Jett Howard",
    "Kevin Huerter",
    "James Huff",
    "Ariel Hukporti",
    "De'Andre Hunter",
    "Bones Hyland",
    "Oso Ighodaro",
    "Joe Ingles",
    "Brandon Ingram",
    "Harrison Ingram",
    "Kyrie Irving",
    "Jonathan Isaac",
    "Jaden Ivey",
    "G.G. Jackson",
    "Isaiah Jackson",
    "Andre Jackson, Jr.",
    "Jaren Jackson, Jr.",
    "Quenton Jackson",
    "Trayce Jackson-Davis",
    "Bronny James",
    "LeBron James",
    "Jaime Jaquez, Jr.",
    "DaQuan Jeffries",
    "Trey Jemison",
    "Daniss Jenkins",
    "Ty Jerome",
    "Isaiah Joe",
    "A.J. Johnson",
    "Cameron Johnson",
    "Jalen Johnson",
    "James Johnson",
    "Keldon Johnson",
    "Keon Johnson",
    "Keshad Johnson",
    "Nikola Jokic",
    "Colby Jones",
    "Derrick Jones",
    "Dillon Jones",
    "Herb Jones",
    "Isaac Jones",
    "Kai Jones",
    "Mason Jones",
    "Spencer Jones",
    "Tre Jones",
    "Tyus Jones",
    "DeAndre Jordan",
    "Cory Joseph",
    "Nikola Jovic",
    "Johnny Juzang",
    "Yuki Kawamura",
    "Luke Kennard",
    "Walker Kessler",
    "Braxton Key",
    "Corey Kispert",
    "Maxi Kleber",
    "Bobi Klintman",
    "Dalton Knecht",
    "Kevin Knox II",
    "Tyler Kolek",
    "Christian Koloko",
    "John Konchar",
    "Luke Kornet",
    "Vit Krejci",
    "Jonathan Kuminga",
    "Kyle Kuzma",
    "Jake LaRavia",
    "Zach LaVine",
    "Jock Landale",
    "Pelle Larsson",
    "A.J. Lawson",
    "Caris LeVert",
    "Damion Lee",
    "Alex Len",
    "Kawhi Leonard",
    "Maxwell Lewis",
    "E.J. Liddell",
    "Damian Lillard",
    "Dereck Lively II",
    "Chris Livingston",
    "Kevon Looney",
    "Brook Lopez",
    "Kevin Love",
    "Kyle Lowry",
    "Seth Lundy",
    "Trey Lyles",
    "Sandro Mamukelashvili",
    "Terance Mann",
    "Tre Mann",
    "Lauri Markkanen",
    "Naji Marshall",
    "Caleb Martin",
    "Cody Martin",
    "Jaylen Martin",
    "K.J. Martin",
    "Tyrese Martin",
    "Garrison Mathews",
    "Bennedict Mathurin",
    "Karlo Matkovic",
    "Tyrese Maxey",
    "Miles McBride",
    "Jared McCain",
    "Mac McClung",
    "C.J. McCollum",
    "T.J. McConnell",
    "Kevin McCullar, Jr.",
    "Jaden McDaniels",
    "Doug McDermott",
    "Bryce McGowens",
    "Jordan McLaughlin",
    "Jack McVeigh",
    "De'Anthony Melton",
    "Sam Merrill",
    "Vasilije Micic",
    "Khris Middleton",
    "Brandon Miller",
    "Emanuel Miller",
    "Jordan Miller",
    "Leonard Miller",
    "Patty Mills",
    "Shake Milton",
    "Justin Minaya",
    "Riley Minix",
    "Josh Minott",
    "Yves Missi",
    "Ajay Mitchell",
    "Davion Mitchell",
    "Donovan Mitchell",
    "Evan Mobley",
    "Jonathan Mogbo",
    "Malik Monk",
    "Moses Moody",
    "Wendell Moore, Jr.",
    "Ja Morant",
    "Markieff Morris",
    "Monte Morris",
    "Trey Murphy III",
    "Dejounte Murray",
    "Jamal Murray",
    "Keegan Murray",
    "Kris Murray",
    "Svi Mykhailiuk",
    "Larry Nance, Jr.",
    "Pete Nance",
    "Andrew Nembhard",
    "Aaron Nesmith",
    "Tristen Newton",
    "Georges Niang",
    "Zeke Nnaji",
    "Miles Norris",
    "Jusuf Nurkic",
    "Royce O'Neale",
    "Chuma Okeke",
    "Josh Okogie",
    "Onyeka Okongwu",
    "Isaac Okoro",
    "Kelly Olynyk",
    "Kelly Oubre, Jr.",
    "Chris Paul",
    "Cameron Payne",
    "Gary Payton II",
    "Elfrid Payton",
    "Drew Peterson",
    "Julian Phillips",
    "Jalen Pickett",
    "Scotty Pippen, Jr.",
    "Daeqwon Plowden",
    "Mason Plumlee",
    "Brandin Podziemski",
    "Jakob Poeltl",
    "Jordan Poole",
    "Craig Porter, Jr.",
    "Kevin Porter, Jr.",
    "Michael Porter, Jr.",
    "Bobby Portis",
    "Kristaps Porzingis",
    "Quinten Post",
    "Micah Potter",
    "Dwight Powell",
    "Norman Powell",
    "Taurean Prince",
    "Payton Pritchard",
    "Olivier-Maxence Prosper",
    "Zyon Pullin",
    "Trevelin Queen",
    "Neemias Queta",
    "Immanuel Quickley",
    "Lester Quinones",
    "Julius Randle",
    "Duop Reath",
    "Austin Reaves",
    "Paul Reed, Jr.",
    "Alex Reese",
    "Antonio Reeves",
    "Naz Reid",
    "Jared Rhoden",
    "Nick Richards",
    "Zaccharie Risacher",
    "Duncan Robinson",
    "Mitchell Robinson",
    "Jeremiah Robinson-Earl",
    "David Roddy",
    "Ryan Rollins",
    "Jackson Rowe",
    "Terry Rozier",
    "Rayan Rupert",
    "D'Angelo Russell",
    "Domantas Sabonis",
    "Tidjane Salaun",
    "Gui Santos",
    "Dario Saric",
    "Alex Sarr",
    "Marcus Sasser",
    "Baylor Scheierman",
    "Dennis Schroder",
    "Alperen Sengun",
    "Brice Sensabaugh",
    "Collin Sexton",
    "Landry Shamet",
    "Terrence Shannon, Jr.",
    "Day'Ron Sharpe",
    "Shaedon Sharpe",
    "Jamal Shead",
    "Ben Sheppard",
    "Reed Sheppard",
    "Pascal Siakam",
    "Ben Simmons",
    "Anfernee Simons",
    "K.J. Simpson",
    "Jericho Sims",
    "Marcus Smart",
    "Dru Smith",
    "Jalen Smith",
    "Jabari Smith, Jr.",
    "Nick Smith, Jr.",
    "Tolu Smith",
    "Tyler Smith",
    "Jeremy Sochan",
    "Cam Spencer",
    "Pat Spencer",
    "Jaden Springer",
    "Isaiah Stevens",
    "Lamar Stevens",
    "Isaiah Stewart II",
    "Julian Strawther",
    "Max Strus",
    "Jalen Suggs",
    "Jae'sean Tate",
    "Jayson Tatum",
    "Garrett Temple",
    "Dalen Terry",
    "Cam Thomas",
    "Amen Thompson",
    "Ausar Thompson",
    "Ethan Thompson",
    "Klay Thompson",
    "Tristan Thompson",
    "J.T. Thor",
    "Matisse Thybulle",
    "Xavier Tillman, Sr.",
    "Drew Timme",
    "Nae'qwan Tomlin",
    "Nikola Topic",
    "Jacob Toppin",
    "Obi Toppin",
    "Karl-Anthony Towns",
    "Luke Travers",
    "Gary Trent, Jr.",
    "Oscar Tshiebwe",
    "P.J. Tucker",
    "Myles Turner",
    "Hunter Tyson",
    "Jaylon Tyson",
    "Stanley Umude",
    "Jonas Valanciunas",
    "Fred VanVleet",
    "Jarred Vanderbilt",
    "Devin Vassell",
    "Gabe Vincent",
    "Nikola Vucevic",
    "Tristan Vukcevic",
    "Dean Wade",
    "Franz Wagner",
    "Moe Wagner",
    "Jabari Walker",
    "Jarace Walker",
    "Lonnie Walker",
    "Cason Wallace",
    "Keaton Wallace",
    "Jordan Walsh",
    "Ja'Kobe Walter",
    "Kel'el Ware",
    "TyTy Washington, Jr.",
    "P.J. Washington",
    "Lindy Waters III",
    "Trendon Watford",
    "Anton Watson",
    "Peyton Watson",
    "Jaylen Wells",
    "Victor Wembanyama",
    "Blake Wesley",
    "Russell Westbrook",
    "Coby White",
    "Derrick White",
    "Dariq Whitehead",
    "Cam Whitmore",
    "Aaron Wiggins",
    "Andrew Wiggins",
    "Brandon Williams",
    "Cody Williams",
    "Grant Williams",
    "Jalen Williams",
    "Jaylin Williams",
    "Nate Williams, Jr.",
    "Vincent Williams, Jr.",
    "Kenrich Williams",
    "Mark Williams",
    "Patrick Williams",
    "Robert Williams",
    "Ziaire Williams",
    "Zion Williamson",
    "Jalen Wilson",
    "Delon Wright",
    "Guerschon Yabusele",
    "Jahmir Young",
    "Trae Young",
    "Ivica Zubac"
]

def get_nba_games(date : str):
    """
    Fetches the list of NBA games for a specific date.
    The date should be a string and in the format YYYY-MM-DD.
    """
    # Fetching games for the 2024 season
    # Dates in the format YYYY-MM-DD
    games = api.nba.games.list(dates=[date]).data
    return games

def get_team_players(team_id : int):
    """
    Fetches the list of players for a given NBA team.
    """
    # Fetching players for the specified team
    page = api.nba.players.list(team_ids=[team_id], per_page=100)

    players = page.data
    # Check if there are more pages of players
    while page.meta.next_cursor:
        page = api.nba.players.list(team_ids=[team_id], per_page=100, cursor=page.meta.next_cursor)
        players += page.data

    # remove inactive players
    players = [player for player in players if (player.first_name + " " + player.last_name) in NBA_ACTIVE_PLAYERS]

    return players

def get_team_games(team_id : int):
    """
    Fetches the list of games for a given NBA team on the 2024 season.
    """
    # Fetching games for the specified team and date
    page = api.nba.games.list(team_ids=[team_id], seasons=[2024], per_page=100, cursor=0)

    games = page.data
    # Check if there are more pages of games
    while page.meta.next_cursor:
        page = api.nba.games.list(team_ids=[team_id], seasons=[2024], per_page=100, cursor=page.meta.next_cursor)
        games += page.data
    
    return games